<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√úV Form Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-header {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .test-result {
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .test-pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .test-fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .test-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #b8daff;
        }
        .test-link {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .test-link:hover {
            background: #2980b9;
        }
        .instructions {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid #ffeaa7;
        }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        .step-number {
            font-weight: bold;
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-header">üîç T√úV-konforme Audit-Form Test</h1>
        
        <div class="instructions">
            <h3>üìã Testanweisungen</h3>
            <p>Diese Seite hilft beim systematischen Testen der T√úV-konformen Audit-Form-Implementierung.</p>
        </div>

        <div class="test-section">
            <h2>üöÄ Schritt 1: Hauptanwendung √∂ffnen</h2>
            <p>√ñffnen Sie die Hauptanwendung und navigieren Sie zur Audit-Tauschb√∂rse:</p>
            <a href="http://localhost:8001" target="_blank" class="test-link">
                üåê Hauptanwendung √∂ffnen (localhost:8001)
            </a>
        </div>

        <div class="test-section">
            <h2>üìã Schritt 2: Manuelle Testschritte</h2>
            
            <div class="step">
                <span class="step-number">1.</span>
                <strong>Navigation zur Audit-Tauschb√∂rse:</strong>
                <ul>
                    <li>In der Seitenleiste auf "Audit-Tauschb√∂rse" klicken</li>
                    <li>√úberpr√ºfen: Sektion wird korrekt geladen</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">2.</span>
                <strong>T√úV-Form Button testen:</strong>
                <ul>
                    <li>Auf "T√úV-konformes Audit-Angebot erstellen" klicken</li>
                    <li>√úberpr√ºfen: Modal/Form √∂ffnet sich</li>
                    <li>√úberpr√ºfen: Alle 6 Sektionen sind sichtbar</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">3.</span>
                <strong>Form-Sektionen √ºberpr√ºfen:</strong>
                <ul>
                    <li>‚úÖ Sektion 1: Audit-Identifikation & Akkreditierung</li>
                    <li>‚úÖ Sektion 2: Audit-Scope & Normative Anforderungen</li>
                    <li>‚úÖ Sektion 3: Kunde & Organisationsdaten</li>
                    <li>‚úÖ Sektion 4: Audit-Planung & Termine</li>
                    <li>‚úÖ Sektion 5: Auditor-Kompetenz & Qualifikation</li>
                    <li>‚úÖ Sektion 6: Compliance & Risikobewertung</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">4.</span>
                <strong>Feld-Validierung testen:</strong>
                <ul>
                    <li>Versuch, Form mit leeren Pflichtfeldern zu senden</li>
                    <li>√úberpr√ºfen: Validierungsfehlermeldungen erscheinen</li>
                    <li>√úberpr√ºfen: Rote Markierung bei ung√ºltigen Feldern</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">5.</span>
                <strong>Checkbox-Funktionalit√§t testen:</strong>
                <ul>
                    <li>Mehrere Checkboxen in "Prozess-Scope" ausw√§hlen</li>
                    <li>√úberpr√ºfen: Auswahl funktioniert korrekt</li>
                    <li>√úberpr√ºfen: getCheckedValues() Funktion arbeitet</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">6.</span>
                <strong>Form-Submission testen:</strong>
                <ul>
                    <li>Alle Pflichtfelder ausf√ºllen</li>
                    <li>Form absenden</li>
                    <li>√úberpr√ºfen: Daten werden in localStorage gespeichert</li>
                    <li>√úberpr√ºfen: Best√§tigungsmeldung erscheint</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Schritt 3: Browser-Entwicklertools</h2>
            <p>Nutzen Sie die Browser-Entwicklertools zur √úberpr√ºfung:</p>
            <ul>
                <li><strong>Console (F12):</strong> Auf JavaScript-Fehler pr√ºfen</li>
                <li><strong>Network:</strong> √úberpr√ºfen, ob alle Ressourcen geladen werden</li>
                <li><strong>Application/Storage:</strong> localStorage nach "qhse_audit_exchanges" pr√ºfen</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üìä Schritt 4: Erwartete Ergebnisse</h2>
            <div class="test-result test-pass">
                ‚úÖ ERFOLG: Form √∂ffnet sich ohne Fehler
            </div>
            <div class="test-result test-pass">
                ‚úÖ ERFOLG: Alle 6 Sektionen sind sichtbar und richtig formatiert
            </div>
            <div class="test-result test-pass">
                ‚úÖ ERFOLG: Pflichtfeld-Validierung funktioniert
            </div>
            <div class="test-result test-pass">
                ‚úÖ ERFOLG: Checkbox-Auswahl funktioniert (getCheckedValues)
            </div>
            <div class="test-result test-pass">
                ‚úÖ ERFOLG: Form-Submission speichert Daten in localStorage
            </div>
        </div>

        <div class="test-section">
            <h2>üêõ Fehlerbehebung</h2>
            <p>Falls Probleme auftreten:</p>
            <ul>
                <li><strong>Form √∂ffnet sich nicht:</strong> JavaScript-Konsole auf Fehler pr√ºfen</li>
                <li><strong>getCheckedValues Fehler:</strong> Funktion in script.js Zeile 24505 √ºberpr√ºfen</li>
                <li><strong>Styling-Probleme:</strong> CSS-Dateien laden korrekt?</li>
                <li><strong>Speicherung funktioniert nicht:</strong> localStorage-Zugriff √ºberpr√ºfen</li>
            </ul>
        </div>
    </div>

    <script>
        // Test localStorage access
        try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            console.log('‚úÖ localStorage access working');
        } catch (e) {
            console.error('‚ùå localStorage access failed:', e);
        }

        // Monitor for audit exchanges data
        setInterval(() => {
            const auditData = localStorage.getItem('qhse_audit_exchanges');
            if (auditData) {
                console.log('üìä Audit exchanges data found:', JSON.parse(auditData).length + ' entries');
            }
        }, 5000);
    </script>
</body>
</html>